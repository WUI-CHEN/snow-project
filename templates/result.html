<!DOCTYPE HTML>
<html>
	<head>
		<title>é¢¨éšªæŸ¥è©¢çµæœ</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="/static/css/main.css" />
    <link rel="icon" href="{{ url_for('static', filename='images/ncdr.png') }}" type="image/png">
		<noscript><link rel="stylesheet" href="/static/css/noscript.css" /></noscript>

    <style>
      .result-info {
        color: #5e5a5a;
        font-size: 1.25rem;
        line-height: 1.8;
        font-family: "Noto Sans TC", sans-serif;
        background-color: #f9f9f9;
        padding: 1em 1.5em 1em 1.5em;
        border-radius: 12px;
        box-shadow: 0 0 8px rgba(0,0,0,0.1);
      }
      .result-info h2 {
        color: #030303;
        font-size: 1.6rem;
        margin-top: 0;
      }
      .result-info b {
        color: #cc0000;
        font-size: 1.3rem;
      }

        /* è®“ section wrapper ä¸Šä¸‹å·¦å³è®Šçª„ */
      #main.wrapper {
        margin: 0;        /* å»æ‰å¤–è· */
        padding: 0.5em;   /* å…§è·è®Šå° */
      }

      /* å…§å±¤å®¹å™¨ä¹Ÿç¸®å°padding */
      #main.wrapper .inner {
        padding: 0.5em;
        margin: 0;
      }

      /* ä¹Ÿå¯ä»¥è¦–æƒ…æ³èª¿æ•´è¡¨å–®é–“è· */
      .form-row {
        margin: 0;
        padding: 0;
      }

      #main.wrapper {
        margin-top: 0.5em;  /* åŸæœ¬å¯èƒ½è¼ƒå¤§ï¼Œæ”¹å°ä¸€é» */
        margin-bottom: 0.5em;
        padding-top: 0em; /* ä¹Ÿå¯èª¿æ•´æˆæ›´å° */
        padding-bottom: 0.5em;
      }

      #main.wrapper .inner {
        padding-top: 0.5em;
        padding-bottom: 0.5em;
        margin-top: 0;
        margin-bottom: 0;
      }

      
    </style>
    
	</head>

	<!-- Header -->
	<header id="header">
		<a href="{{ url_for('index') }}" class="title">å†¬å­£ç½å®³é¢¨éšªè­¦ç¤º</a>
		<nav>
			<ul>
				<li><a href="{{ url_for('index') }}">Home</a></li>
				<li><a href="{{ url_for('generic') }}">Inquiry</a></li>
				<li><a href="{{ url_for('result') }}" class="active">Result</a></li>
			</ul>
		</nav>
	</header>

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Main -->
		<section id="main" class="wrapper">

			<div class="inner">
				<h1 class="major">é¢¨éšªæŸ¥è©¢çµæœ</h1>
				
				<!-- æŸ¥è©¢çµæœå€åŸŸ -->
				<div class="result-container" style="display: flex; justify-content: space-between; gap: 5px;">

          <!-- å·¦å´åœ–ç‰‡å€åŸŸ -->
          <div class="result-image" style="flex: 4.0; padding-right: 10px">
            <iframe src="{{ map_url }}" width="100%" height="600" style="border:none;"></iframe>
          </div>
        
          <!-- å³å´æŸ¥è©¢çµæœå€åŸŸ -->
          <div class="result-info" style="flex: 1.25; height: auto">
            <h2 style="margin-top: 0;">
              {{ location_name }} <br> åœ¨ {{ date_display }} çš„å¤©æ°£æŸ¥è©¢çµæœ
            </h2>

            ğŸŒ¡ æº«åº¦ï¼š{{ temperature }} Â°C<br>
            ğŸ’§ æ¿•åº¦ï¼š{{ humidity }} %<br>
            ğŸ“ˆ é™é›¨æ©Ÿç‡ï¼š{{ rain_prob }} %<br>
            ğŸŒ« èƒ½è¦‹åº¦ï¼š{{ visibility }} M<br>
            ğŸ’¦ éœ²é»æº«åº¦ï¼š{{ dew_point  }} Â°C<br>
            â˜ƒï¸ é™é›ªé‡ï¼š{{ snowfall }} mm<br><br>
            
        
            {% if location_type == "mountain" %}
              {% if risks %}
               <b>é¢¨éšªæç¤ºï¼š</b><br>
                {% for risk in risks %}
                  - {{ risk }}<br>
                {% endfor %}
              {% else %}
                ç„¡æ˜é¡¯é¢¨éšªï¼Œè«‹æ³¨æ„å®‰å…¨ç™»å±±
              {% endif %}
            {% elif location_type == "road" %}
              <b>é¢¨éšªæç¤ºï¼š</b><br>
              {% if overall_risk == "é«˜é¢¨éšª" %}
                å·²é”è·¯é¢çµå†°æ¨™æº–ï¼Œå»ºè­°é¿é–‹æ­¤è·¯ç·š
              {% elif overall_risk == "ä¸­é¢¨éšª" %}
                æœ‰é“è·¯çµå†°é¢¨éšªï¼Œå»ºè­°æ”œå¸¶é›ªéŠä¸Šå±±
              {% else %}
                è·¯é¢çµå†°é¢¨éšªè¼ƒä½ï¼Œè«‹ä¾ç¾å ´è·¯æ³å°å¿ƒè¡Œé§›
              {% endif %}
              <br><br>

            <div style="display: flex; align-items: center; gap: 10px;">
              <b>çµå†°é¢¨éšªè©•ä¼°ï¼š</b> 

              {% if traffic_light == "red" %}
                <div style="width: 30px; height: 30px; border-radius: 50%; background-color: red;"></div>
              {% elif traffic_light == "orange" %}
                <div style="width: 30px; height: 30px; border-radius: 50%; background-color: orange;"></div>
              {% elif traffic_light == "green" %}
                <div style="width: 30px; height: 30px; border-radius: 50%; background-color: rgb(7, 251, 7);"></div>
              {% endif %}
            {% endif %}
            </div>
          
          </div>
        </div>
        
			</div>
		</section>

	</div>

	<!-- Footer -->
	<footer id="footer" class="wrapper alt">
		<div class="inner">
			<ul class="menu">
				<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				<li>
					Licensed under 
					<a href="http://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener noreferrer">
						Creative Commons Attribution 3.0 Unported License
					</a>
				</li>
			</ul>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="/static/js/jquery.min.js"></script>
	<script src="/static/js/jquery.scrollex.min.js"></script>
	<script src="/static/js/jquery.scrolly.min.js"></script>
	<script src="/static/js/browser.min.js"></script>
	<script src="/static/js/breakpoints.min.js"></script>
	<script src="/static/js/util.js"></script>
	<script src="/static/js/main.js"></script>

	<script>
		// å¦‚æœæœ‰æ—¥æœŸé¸æ“‡ï¼Œå¾ URL ç²å–ä¸¦é¡¯ç¤ºé¢¨éšªç­‰ç´š
		const urlParams = new URLSearchParams(window.location.search);
		const selectedDate = urlParams.get('date'); // å¾URLç²å–é¸æ“‡çš„æ—¥æœŸ
		console.log("é¸æ“‡çš„æ—¥æœŸæ˜¯ï¼š" + selectedDate);

		// æ¨¡æ“¬é¢¨éšªåˆ†æçµæœ
		// å‡è¨­æ ¹æ“šæ—¥æœŸé€²è¡Œé¢¨éšªè¨ˆç®—å¾Œï¼Œæœƒè¨­å®šä¸åŒçš„é¢¨éšªç­‰ç´š
		const riskLevel = "é«˜é¢¨éšª";  // æ ¹æ“š API æˆ–è¨ˆç®—çµæœä¾†è¨­ç½®
		document.getElementById('risk-level').innerHTML = "é¢¨éšªç­‰ç´šï¼š" + "<span class='high-risk'>" + riskLevel + "</span>";
	</script>
</body>
</html>
